<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright 2013 Pykhov Gregory
  ~
  ~
  -->

<map:cfg
        xmlns:l="http://s1-platform.org/config/types/Long"
        xmlns:i="http://s1-platform.org/config/types/Integer"
        xmlns:f="http://s1-platform.org/config/types/Float"
        xmlns:d="http://s1-platform.org/config/types/Double"
        xmlns:bd="http://s1-platform.org/config/types/BigDecimal"
        xmlns:bi="http://s1-platform.org/config/types/BigInteger"
        xmlns:dt="http://s1-platform.org/config/types/Date"
        xmlns:b="http://s1-platform.org/config/types/Boolean"
        xmlns:map="http://s1-platform.org/config/types/Map"
        xmlns:list="http://s1-platform.org/config/types/List"

        root="root"
        >

    <map:session
            l:ttl="10000">
    </map:session>

    <map:fileStorage
            home="/var/s1/node1"
            localStorageclass="org.s1.cluster.datasource.FileLocalStorage">
    </map:fileStorage>

    <map:numberSequence
            home="/var/s1/sequences"
            localStorageclass="org.s1.cluster.datasource.NumberSequenceLocalStorage">
    </map:numberSequence>

    <map:cluster
            nodeId="node-1"
            b:shutdownOnError="true"
            d:transactionPriority="0.5"
            i:workerThreads="10"
            operationLogclass="org.s1.cluster.node.NodeOperationLog"
            i:fileThreads="10"
            fileAddress="127.0.0.1"
            i:filePortMin="21020"
            i:filePortMax="21030"
            >
        <list:priorityTable>
            <map:e name="org.s1.cluster.datasource.FileStorage" d:priority="0.2"></map:e>
        </list:priorityTable>
    </map:cluster>

    <list:webOperations>
        <map:e name="Echo" class="weboperation.EchoWebOperation">
            <map:config a="aaa"></map:config>
        </map:e>
        <map:e name="Upload" class="org.s1.weboperation.UploadWebOperation">
            <map:config></map:config>
        </map:e>
        <map:e name="Command" class="org.s1.weboperation.CommandWebOperation">
            <map:config></map:config>
        </map:e>
        <map:e name="Log" class="org.s1.log.LogOperation">
            <map:config storageClass="org.s1.log.LogStorage"></map:config>
        </map:e>
        <map:e name="Auth" class="org.s1.user.AuthOperation">
            <map:config storageClass="org.s1.user.AuthStorage"></map:config>
        </map:e>
        <map:e name="Schema" class="org.s1.objects.schema.ObjectSchemaWebOperation">
            <map:config></map:config>
        </map:e>

        <map:e name="ws1" class="ws.TestWS1">
            <map:config
                    wsdl="wsdl.xml"
                    b:validateInput="true"
                    b:validateOutput="true"
                    ></map:config>
        </map:e>
    </list:webOperations>

    <list:backgroundWorkers>
        <map:e name="test" class="background.TestBGWorker">
            <map:config l:interval="2000"></map:config>
        </map:e>
        <map:e name="test2" class="background.TestBGWorker">
            <map:config i:a="2" l:interval="10000"></map:config>
        </map:e>
        <map:e></map:e>
    </list:backgroundWorkers>

    <!-- test -->
    <test1>qwer</test1>
    <map:m1 a="asd" bi:i="123" b:b="true"></map:m1>
    <list:l>
        <map:e a="asd" bi:i="123" b:b="true"></map:e>
        <e>asdf</e>
    </list:l>

</map:cfg>